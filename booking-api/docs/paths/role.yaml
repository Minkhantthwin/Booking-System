tags:
  - name: Role
    description: Role management (Admin only)

paths:
  /role:
    get:
      tags: [Role]
      summary: List roles
      security: [{ bearerAuth: [] }]
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  roles:
                    type: array
                    items:
                      $ref: '#/components/schemas/Role'
        '403':
          description: Forbidden
    post:
      tags: [Role]
      summary: Create role
      security: [{ bearerAuth: [] }]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RoleCreateRequest'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  role:
                    $ref: '#/components/schemas/Role'
        '409':
          description: Conflict (duplicate name)
        '403':
          description: Forbidden
  /role/{id}:
    get:
      tags: [Role]
      summary: Get role
      security: [{ bearerAuth: [] }]
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: integer }
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  role:
                    $ref: '#/components/schemas/Role'
        '404':
          description: Not found
        '403':
          description: Forbidden
    put:
      tags: [Role]
      summary: Update role
      security: [{ bearerAuth: [] }]
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: integer }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RoleUpdateRequest'
      responses:
        '200':
          description: OK
        '404':
          description: Not found
        '409':
          description: Conflict
        '403':
          description: Forbidden
    delete:
      tags: [Role]
      summary: Delete role
      security: [{ bearerAuth: [] }]
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: integer }
      responses:
        '204':
          description: Deleted
        '404':
          description: Not found
        '403':
          description: Forbidden